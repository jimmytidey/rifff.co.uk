package {	import flash.events.*;	import flash.display.*;	import fl.controls.Button;	import fl.controls.TextInput; 	import fl.controls.Slider;	import fl.controls.CheckBox;	import fl.events.SliderEvent;	import flash.media.SoundTransform;	import flash.MovieClip;	import flash.net.URLRequest;	import flash.net.URLLoader;				public class ControlElements extends MovieClip{		function makeVolume(volumeArray, controls_container, y, jsonData, bank_index, bank_option_index) { 			var volumeSlider:Slider = new Slider(); 			volumeSlider.x = 160;			volumeSlider.width = 60;			volumeSlider.value = jsonData['banks'][bank_index]['bank_options'][bank_option_index]['volume'];			volumeSlider.y = y-17;			volumeSlider.addEventListener(SliderEvent.CHANGE, changeVolume);			var myTransform = new SoundTransform();			volumeArray[bank_index][bank_option_index] = myTransform; 			volumeArray[bank_index][bank_option_index].volume = volumeSlider.value /10;						function changeVolume(event:SliderEvent) {				jsonData['banks'][bank_index]['bank_options'][bank_option_index]['volume']= event.value;				volumeArray[bank_index][bank_option_index].volume = event.value /10; 				dispatchEvent(new Event("changed", true));				dispatchEvent(new Event("volume_changed", true));			}						controls_container.addChild(volumeSlider);		}				function makeDelete(controls_container, y, jsonData, bank_index, bank_option_index) { 			var deleteBtn:Loader = new Loader();			deleteBtn.load(new URLRequest("http://rifff.co.uk/composer/images/cross.png"));			deleteBtn.y = y-23; 			deleteBtn.x = 142; 			deleteBtn.doubleClickEnabled = true;						deleteBtn.addEventListener(MouseEvent.DOUBLE_CLICK, deleteBankOption);			function deleteBankOption() { 				trace('hi');				jsonData['banks'][bank_index]['bank_options'].splice(bank_option_index, 1);				dispatchEvent(new Event("changed", true));			}			controls_container.addChild(deleteBtn); 		}				function makeLoop(controls_container, y, jsonData, bank_index, bank_option_index) { 			var loop:CheckBox = new CheckBox(); 			loop.x = 225; 			if (jsonData['banks'][bank_index]['bank_options'][bank_option_index]['loop'] == "true") { 				loop.selected = true;			}			loop.y = y-27;			loop.label = "";			loop.addEventListener(Event.CHANGE, changeLoop);									function changeLoop(event) {								if (event.target.selected == true) { var value  = "true";}				else { value  = "false";}								jsonData['banks'][bank_index]['bank_options'][bank_option_index]['loop']= value;				dispatchEvent(new Event("changed", true));			}						controls_container.addChild(loop);		}				function makeOverPlay(controls_container, y, jsonData, bank_index, bank_option_index) { 			var overPlay:CheckBox = new CheckBox(); 			overPlay.x = 240;			if (jsonData['banks'][bank_index]['bank_options'][bank_option_index]['overplay'] == "true") { 				overPlay.selected = true;			} 						overPlay.y = y-27;			overPlay.label = "";			overPlay.addEventListener(Event.CHANGE, changeOverPlay);						function changeOverPlay(event) {				if (event.target.selected == true) { var value_2  = "true";} 				else { value_2  = "false";}								jsonData['banks'][bank_index]['bank_options'][bank_option_index]['overplay']= value_2;				dispatchEvent(new Event("changed", true));			}						controls_container.addChild(overPlay);		}									}}