package {	import flash.net.URLRequest;	import flash.net.URLLoader;	import flash.events.*;	import flash.utils.*;	import flash.display.*; 	import flash.graphics.*; 	import jButton;		public class pbRender extends MovieClip {		var playhead_container:MovieClip = new MovieClip;		var pattern_container:MovieClip = new MovieClip;		var playHead:Shape = new Shape();		var grid_left:int; 		var no_of_steps:int;		var angle_per_step:Number; 		var radius:Number; 		var arc:Arc = new Arc(); 				public function drawPattern(jsonData, container, grid, soundContainer, step_time) { 			container.graphics.clear();						container.graphics.lineStyle(8,0x000000, 1, true, LineScaleMode.NORMAL, CapsStyle.NONE, JointStyle.MITER, 0);			for(var i:int = 0;i<grid.length;i++){				for(var j:int = 0;j<grid[i].length;j++){					for(var k:int = 0;k<grid[i][j].length;k++){						if(grid[i][j][k] == 100) { 							radius = (i*50) + (k*20) +50; 							start_angle = (angle_per_step * j)-10;														end_angle = (angle_per_step) + start_angle;							start_angle +=90;							end_angle +=90;							trace("rad =" + radius + "  start =" + start_angle + " end angle =" + end_angle); 							arc.draw_arc(container,250,300,radius,start_angle,end_angle, 0.1);						}					}			  						}			}		}				//draw the playhead		public function drawPlayhead(jsonData, container, step_number,  grid_top, grid_left) {						playHead.graphics.lineStyle(1, 0xcccccc, .75);			no_of_steps = jsonData['project_info']['steps'];			angle_per_step = 360/no_of_steps;  			radius = 55;			playHead.graphics.lineTo(0,200);			playHead.x = 250; 			playHead.y = 300;			container.addChild(playHead); 			container.addChild(playhead_container);			container.setChildIndex(playhead_container, 0);		}				public function movePlayhead(step_number) {			playHead.rotation = angle_per_step * step_number; 		}	}}